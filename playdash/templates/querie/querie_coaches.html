{% extends 'base.html' %}

{% block header %}
  <h1>Consulta de Técnicos</h1>
{% endblock %}

{% block content %}
  <form method="post">
    <label for="team_name">Time:</label>
    <input type="text" name="team_name" id="team_name" placeholder="Nome do time">

    <label for="coach_name">Nome do Técnico:</label>
    <input type="text" name="coach_name" id="coach_name" placeholder="Digite o nome...">

    <button type="submit">Buscar</button>
  </form>

  {% if coaches %}
  <h2>Técnicos encontrados:</h2>
  <table border="1">
      <thead>
          <tr>
              <th>Nome</th>
              <th>Time</th>
              <th>Data de Nascimento</th>
              <th>Nacionalidade</th>
          </tr>
      </thead>
      <tbody>
          {% for coach in coaches %}
              <tr>
                  <td>{{ coach['name'] }}</td>
                  <td>{{ coach['team_name'] }}</td>
                  <td>{{ coach['date_of_birth'].strftime('%d/%m/%Y') if coach['date_of_birth'] else '' }}</td>
                  <td>{{ coach['nationality'] }}</td>
              </tr>
          {% endfor %}
      </tbody>
  </table>
{% else %}
  <p>Nenhum técnico encontrado.</p>
{% endif %}
{% endblock %}