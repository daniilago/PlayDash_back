{% extends 'base.html' %}

{% block header %}
  <h1>Consulta de Jogadores</h1>
{% endblock %}

{% block content %}
  <form method="post">
    <label for="player_name">Nome do Jogador:</label>
    <input type="text" name="player_name" id="player_name" placeholder="Ex: Neymar">

    <label for="shirt_number">Número:</label>
    <input type="shirt_number" name="shirt_number" id="shirt_number" placeholder="Ex: 10">

    <label for="team_name">Time:</label>
    <input type="text" name="team_name" id="team_name" placeholder="Ex: Brasil FC">

    <button type="submit">Buscar</button>
  </form>

  {% if players %}
    <h2>Jogadores encontrados:</h2>
    <table border="1">
      <thead>
        <tr>
          <th>Nome</th>
          <th>Número</th>
          <th>Posição</th>
          <th>Time</th>
          <th>Data de Nascimento</th>
          <th>Nacionalidade</th>
          <th>Gols</th>
          <th>Faltas</th>
          <th>Cartões Amarelos</th>
          <th>Cartões Vermelhos</th>
        </tr>
      </thead>
      <tbody>
        {% for player in players %}
          <tr>
            <td>{{ player['name'] }}</td>
            <td>{{ player['shirt_number'] }}</td>
            <td>{{ player['position'] }}</td>
            <td>{{ player['team_name'] }}</td>
            <td>{{ player['date_of_birth'].strftime('%d/%m/%Y') if player['date_of_birth'] else '' }}</td>
            <td>{{ player['nationality'] }}</td>
            <td>{{ player['goals'] }}</td>
            <td>{{ player['fouls'] }}</td>
            <td>{{ player['yellow_cards'] }}</td>
            <td>{{ player['red_cards'] }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>Nenhum jogador encontrado.</p>
  {% endif %}
{% endblock %}